<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.310">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Gustavo Diaz - Job Market Hub</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body class="nav-sidebar floating fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      Gustavo Diaz
      </li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Gustavo Diaz</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="mailto:diazg2@mcmaster.ca" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-envelope"></i></a>
    <a href="https://twitter.com/gusvalo" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://bsky.app/profile/gustavodiaz.org" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-square-fill"></i></a>
    <a href="https://github.com/gustavo-diaz" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://scholar.google.com/citations?user=TVXK8-8AAAAJ" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-google"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./research.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./teaching.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./talks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Talks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./files/cv.pdf" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CV</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Job Market Hub</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="welcome" class="level2">
<h2 class="anchored" data-anchor-id="welcome">Welcome!</h2>
<p>This page is for internal use only. If you are not a letter writer, I encourage you to use the navigation tab to learn more about me and my work.</p>
</section>
<section id="upcoming-deadlines" class="level2">
<h2 class="anchored" data-anchor-id="upcoming-deadlines">Upcoming Deadlines</h2>
<p><strong>Last update:</strong> January 16, 2024. Full list <a href="https://docs.google.com/spreadsheets/d/1wCTQQpg9AALD-d4N2gCD-_xrV_P-EhNJUeDQnUsVHPI/edit#gid=1630537882">here</a>.</p>
<p><strong>Number of letters to write:</strong></p>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-paper table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Jake</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Matt</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Michelle</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>&nbsp;</p>
<p><a href="https://www.jobs.ac.uk/job/DEU789/assistant-professor-in-political-science-and-data-science"><strong>Assistant Professor in Political Science and Data Science - Department of Political Science - Trinity College Dublin</strong></a><br><strong>Letters:</strong> Jake, Matt, Michelle <br> <strong>Deadline:</strong> January 22, 2024 <br> <strong>Delivery:</strong> After shortlist? <br> <strong>Notes:</strong> Two positions. the Department has a preference for applicants active in researchon t ext analysis, applied machine learning, and/or data science in the social sciences. Proficiency in programming in Python and/or R is expected. Desirable skills also include quantitative text analysis, image processing, network analysis, and/or statistical forecasting. The preferred candidates must also be able to teach courses in substantive areas of politics (e.g., comparative politics, international relations, political communication) of interest to undergraduate and postgraduate students <br>&nbsp;<br>
&nbsp;<br>
<a href="https://www.mathjobs.org/jobs/list/23234"><strong>Assistant Professor in Data Science and Analytics - School of Mathematics and Statistics - Carleton University</strong></a><br><strong>Letters:</strong> Jake, Matt, Michelle <br> <strong>Deadline:</strong> January 31, 2024 <br> <strong>Delivery:</strong> Mathjobs <br> <strong>Notes:</strong> The candidate should have expertise in data-driven problem solving including statistical / machine learning, applied computational statistics, reproducible research and data sciences <br>&nbsp;<br>
&nbsp;</p>
</section>
<section id="materials" class="level2">
<h2 class="anchored" data-anchor-id="materials">Materials</h2>
<p>Methods is the default set of materials</p>
<ul>
<li><p>Cover letter <a href="job_market/cover_letter/cover_letter_methods.pdf"><code>[Methods]</code></a> <a href="job_market/cover_letter/cover_letter_cp.pdf"><code>[Comparative]</code></a> <a href="job_market/cover_letter/cover_letter_stats.pdf"><code>[Statistics]</code></a></p></li>
<li><p>Research statement <a href="job_market/statements/research_statement_methods.pdf"><code>[Methods]</code></a> <a href="job_market/statements/research_statement_cp.pdf"><code>[Comparative]</code></a> <a href="job_market/statements/research_statement_stats.pdf"><code>[Statistics]</code></a></p></li>
<li><p>Teaching statement <a href="job_market/statements/teaching_statement_methods.pdf"><code>[Methods]</code></a> <a href="job_market/statements/teaching_statement_cp.pdf"><code>[Comparative]</code></a> <a href="job_market/statements/teaching_statement_stats.pdf"><code>[Statistics]</code></a></p></li>
<li><p>Diversity statement <a href="job_market/statements/diversity_statement_methods.pdf"><code>[Methods]</code></a> <a href="job_market/statements/diversity_statement_cp.pdf"><code>[Comparative]</code></a> <a href="job_market/statements/diversity_statement_stats.pdf"><code>[Statistics]</code></a></p></li>
</ul>
</section>
<section id="research" class="level2">
<h2 class="anchored" data-anchor-id="research">Research</h2>
<p>Highlights here. See the <a href="./research.html">research</a> tab for more.</p>
<section id="methods" class="level3">
<h3 class="anchored" data-anchor-id="methods">Methods</h3>
<ol type="1">
<li><p><strong>Assessing the Validity of Prevalence Estimates in Double List Experiments</strong><br>
<em>Journal of Experimental Political Science</em><br>
<a href="files/research/dle_test.pdf"><code>Paper</code></a> <a href="files/research/dle_test_appendix.pdf"><code>Appendix</code></a></p>
<ul>
<li>Review process complete, official version should come soon</li>
<li>I started working on this <em>before</em> working on my dissertation!</li>
</ul></li>
<li><p><strong>Balancing Precision and Retention in Experimental Design</strong><br>
with <a href="http://erossiter.com/">Erin Rossiter</a><br>
<a href="https://gustavodiaz.org/files/research/precision_retention.pdf"><code>Paper</code></a> <a href="https://gustavodiaz.org/files/research/precision_retention_appendix.pdf"><code>Appendix</code></a></p>
<ul>
<li>Under review in APSR</li>
</ul></li>
<li><p><strong>List experiment and Network Scale-up questions to measure criminal governance strategies in Uruguay</strong><br>
with <a href="https://imfd.cl/en/investigador/ines-fynn/">Ines Fynn</a>, <a href="https://scholar.google.com/citations?user=wj21dxsAAAAJ&amp;hl=en">Verónica Pérez Bentancur</a>, and <a href="https://www.luciatiscornia.com/">Lucía Tiscornia</a></p>
<ul>
<li>Ongoing project that should yield 4 papers:</li>
</ul>
<ol type="1">
<li>Combining list experiments and network scale-up questions to improve measurement of sensitive attitudes (Presenting at Polmeth, Maplemeth, Toronto Behavior Workshop, maybe LAPolmeth)</li>
<li>Recovering estimates when placebo statements mess up your list experiment</li>
<li>Short piece documenting extent of criminal governance activity in a context of low crime and high state presence (Presenting at APSA)</li>
<li>Longer piece same as (3) but delving deeper into theory and field interviews</li>
</ol></li>
<li><p><strong>Survey Experiments and the Quest for Valid Interpretation</strong><br>
with <a href="https://publish.illinois.edu/cdgrady2/">Christopher Grady</a> and <a href="https://pol.illinois.edu/directory/profile/kuklinsk">James H. Kuklinski</a><br>
In: <em>Luigi Curini and Robert Franzese (eds)</em><br>
<em>The SAGE Handbook of Research Methods in Political Science and International Relations</em>, 2020<br>
<a href="files/research/sage_survey_experiments_chapter.pdf"><code>Chapter</code></a> <a href="https://us.sagepub.com/en-us/nam/the-sage-handbook-of-research-methods-in-political-science-and-international-relations/book262875"><code>Handbook</code></a></p></li>
</ol>
</section>
<section id="comparative" class="level3">
<h3 class="anchored" data-anchor-id="comparative">Comparative</h3>
<ol type="1">
<li><p><strong>Ignoring Female Performance: A Survey Experiment on Policy Implementation in Argentina</strong><br>
with <a href="https://virginiaoliveros.com/">Virginia Oliveros</a>, <a href="https://vivo.brown.edu/display/rweitzsh">Rebecca Weitz-Shapiro</a>, and <a href="https://sites.google.com/site/mswinters1/">Matthew S. Winters</a><br>
<a href="https://gustavodiaz.org/files/research/gender_performance.pdf"><code>Paper</code></a> <a href="https://gustavodiaz.org/files/research/gender_performance_appendix.pdf"><code>Appendix</code></a></p>
<ul>
<li>Under review at BJPS</li>
</ul></li>
<li><p><strong>Mayors Alter Spending to Counter the Electoral Consequences of Increased Monitoring: Evidence from Anti-Corruption Audits in Brazil</strong><br>
<a href="files/research/audit_spending.pdf"><code>Paper</code></a></p>
<ul>
<li>Presenting at APSA. Presented in political economy of development workshop organized by the <em>Journal of Public Policy</em></li>
</ul></li>
<li><p><strong>Revealing Nearby Corruption Drives Party Switching: Evidence from Local Level Audits in Brazil</strong><br>
<a href="files/research/nearby_corruption.pdf"><code>Paper</code></a></p>
<ul>
<li>Old job talk</li>
</ul></li>
<li><p><strong>Light in the Midst of Chaos: COVID-19 and Female Political Representation</strong><br>
with <a href="https://www.usafa.edu/facultyprofile/?smid=23816">Kelly Senters Piazza</a><br>
<em>World Development</em> 136: 105125, 2020<br>
<a href="https://doi.org/10.1016/j.worlddev.2020.105125"><code>Paper</code></a></p></li>
</ol>
</section>
</section>
<section id="teaching" class="level2">
<h2 class="anchored" data-anchor-id="teaching">Teaching</h2>
<ul>
<li><p>McMaster course website: <a href="https://popw23.gustavodiaz.org/">popw23.gustavodiaz.org</a></p></li>
<li><p><a href="./teaching.html">Syllabi</a></p></li>
<li><p><a href="./job_market/statements/diaz_teaching_evals.pdf">Teaching evaluations</a></p></li>
</ul>
</section>
<section id="other-stuff" class="level2">
<h2 class="anchored" data-anchor-id="other-stuff">Other stuff</h2>
<p>Section in progress. Things that may be missing or understated in current materials.</p>
<ul>
<li><p>Working on text analysis modeling to analyze citation patterns in methodology across social sciences as part of postdoc duties</p></li>
<li><p>Attending a grant writing workshop in the Fall, focus on preparing an application for an NSF-equivalent grant in Canada</p></li>
<li><p>Dissertation data collection combines text analysis and supervised learning to create most up to date data set of Brazilian local anti-corruption audits</p></li>
<li><p>Dissertation got poster award at Latin American Polmeth 2019</p></li>
<li><p>Cool places I have interviewed but not taken jobs at that may make people feel like they need to hire me before someone else does:</p></li>
</ul>
<blockquote class="blockquote">
<p>Penn State, University of Konstanz, University of Birmingham, Howard University, William &amp; Mary, KDI School of Public Policy and Management, Carlos III-Juan March Institute of Social Sciences, University of Melbourne</p>
</blockquote>
<ul>
<li><p>Went to EITM at Emory in 2019</p></li>
<li><p>Have experience mentoring an undergrad RA. Used it as an excuse so we could both learn text analysis. Student got job as data consultant after college. I claim all the credit</p></li>
<li><p>Last 3 years have been marked by: Pandemic, parenting, moving, escaping from hurricane, immigration troubles, family illness. This is the first summer since 2020 without a major life thing going on. Feel free to weave that in your assessment of my productivity if you feel it may help</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© 2023 Gustavo Diaz</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Powered by <a href="https://cran.r-project.org/"><i class="fa-brands fa-r-project" aria-hidden="true"></i></a> and <a href="https://quarto.org/">Quarto</a></div>
  </div>
</footer>



</body></html>